<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>The HTML5 Herald</title>
  <meta name="description" content="The HTML5 Herald">
  <meta name="author" content="SitePoint">

  <link rel="stylesheet" href="css/styles.css?v=1.0">

</head>

<body>
  <script type="text/javascript">
    function getRandomIntInclusive(min, max) {
      min = Math.ceil(min);
      max = Math.floor(max);
      return Math.floor(Math.random() * (max - min + 1)) + min; //The maximum is inclusive and the minimum is inclusive 
    }

    function computerPlay(){
      var chosenValue = getRandomIntInclusive(1,3);
      if(chosenValue==1){
        return "Rock";
      }
      else if(chosenValue==2){
        return "Paper";
      }
      else if(chosenValue==3){
        return "Scissors";
      }
      else{
        return "There was a mistake choosing value";
      }
    }
    
    function playRound(playerSelection, computerSelection) {
        var player = playerSelection.toLowerCase();
        var computer = computerSelection.toLowerCase();
        console.log("Player chose " + player);
        console.log("Computer chose " + computer);

        if(player=="rock" && computer=="scissors"){
          return "Player";
        }
        else if(player=="rock" && computer=="paper"){
          return "Computer";
        }
        else if(player=="paper" && computer=="rock"){
          return "Player";
        }
        else if(player=="paper" && computer=="scissors"){
          return "Computer";
        }
        else if(player=="scissors" && computer=="paper"){
          return "Player";
        }
        else if(player=="scissors" && computer=="rock"){
          return "Computer";
        }
        else{
          return "Draw";
        }
    } 

    //console.log(playRound("Rock",computerPlay()));

    function game(){
      console.log("Welcome to 5 round Rock Paper Scissors!");
      var round = 1;
      var playerWins = 0;
      var computerWins = 0;

      while(round<6){
        let player = prompt("Choose your weapon:")
        var win = playRound(player, computerPlay());
        if(win=="Computer"){
          computerWins++;
          console.log("Computer wins this Round. The score is Player: " + playerWins + " Computer: "+ computerWins);
        }
        else if(win=="Player"){
          playerWins++;
          console.log("Player wins this Round. The score is Player: " + playerWins + " Computer: "+ computerWins);
        }
        else{
          console.log("It's a draw. Too bad!");
        }
        round++;
      }
      if(playerWins>computerWins){
        console.log("Congratulations you won over the computer " + playerWins + " " + computerWins);
      }
      else if(playerWins<computerWins){
        console.log("You lost to the computer " + computerWins + " " + playerWins + " Try again by refreshing the page!");
      }
      else{
        console.log("It's a tie " + playerWins + " " + computerWins + " Try againg by refreshing the page!");
      }
    }
    game();
  </script>
</body>
</html>